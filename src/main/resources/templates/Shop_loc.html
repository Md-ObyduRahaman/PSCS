<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>PSCS</title>
	<!-- using online links -->
	<link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">
	<!-- CSS For Bootstrap  -->
	<link rel="stylesheet" href="../../../../bootstrap/css/bootstrap.css">
	<!-- font awesome -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
	<!-- CSS for DataTable -->
	<link rel="stylesheet" href="../../../../datatable/bootstrap.min.css">
	<link rel="stylesheet" href="../../../../datatable/bootstrap5.min.css">
	<link rel="stylesheet" href="../../../../css/main.css">
	<link rel="stylesheet" href="../../../../css/sidebar-themes.css">
	<link rel="stylesheet" href="../../../../css/form-style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		$(document).ready(function () {
			$("#toggle-sidebar").click(function () {
				$(".togg").toggle("slow");
			});
		});
	</script>
	<style>
		ul li a {
			color: white !important;
		}

		.logo {
			width: 160px;
			height: 85px;
		}

		/* Extra small devices (phones, 600px and down) */
		@media only screen and (max-width: 600px) {
			.logo {
				width: 30px;
				height: 20px;
			}
		}

		/* Small devices (portrait tablets and large phones, 600px and up) */
		@media only screen and (min-width: 600px) {
			.logo {
				width: 115px;
				height: 70px;
			}
		}

		/* Medium devices (landscape tablets, 768px and up) */
		@media only screen and (min-width: 768px) {
			.logo {
				width: 130px;
				height: 75px;
			}
		}

		/* Large devices (laptops/desktops, 992px and up) */
		@media only screen and (min-width: 992px) {
			.logo {
				width: 145px;
				height: 80px;
			}
		}

		/* Extra large devices (large laptops and desktops, 1200px and up) */
		@media only screen and (min-width: 1200px) {
			.logo {
				width: 160px;
				height: 85px;
			}
		}
	</style>
</head>

<body>
	<div class="container-fluid">
		<div class="row flex-nowrap">

			<div class="col-auto col-md-2 col-xl-2 px-sm-2 px-0 bg-dark togg">
				<div th:replace="fragment/sideBar :: sideBar"></div>
			</div>
			<!-- page-content  -->
			<main class="page-content">
				<div id="overlay" class="overlay"></div>
				<div class="container-fluid" style="padding: 0px;">
					<div class="title-bar"
						style="height: 90px; background-color: #CDB699 !important; width: 100% !important; background-repeat: no-repeat; background-size: initial;">
						<a id="toggle-sidebar" class="btn btn-secondary rounded-0" href="#"
							style="margin: 20px; background: #3ab54a;"> <span>
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
									class="bi bi-list" viewBox="0 0 16 16">
									<path fill-rule="evenodd"
										d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
								</svg>
							</span>

						</a>


					</div>

					<div class="container mt-5 ">

						<div class="card-container-holder">
							<div class="card-5">
								<div class="card-header" style="background: #2b9139; color: aliceblue">
									<h2 class="text-center">Shop Location</h2>
								</div>
								<div class="card-shadow shadow-lg p-3 mb-5 bg-white rounded">
									<div class="form-body ">
										<form th:action="@{'/Shop_loc/'+${ShopId}+'/'+${HeadId}+'/'+${Shop_BrId}}"
											method="post" th:object="${shop_loc}">
											<div class="row m-3">
												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-3 col-md-5 col-sm-12 mt-3">
															<label for="text" class="text-center">Head:</label>
														</div>
														<div class="col-lg-9 col-md-7 col-sm-12">
															<select type="text" name="HEAD_ID" id="HEAD_ID"
																class="form-control" readonly="true">
																<option value="0">--Select Head--</option>
																<option th:each="a : ${listHead}"
																	th:value="${a.HEAD_ID}" th:text="${a.HEAD_NAME}"
																	th:selected=${a.HEAD_ID}==${hId}></option>

															</select>
														</div>
													</div>
												</div>
												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-4 col-md-5 col-sm-12 mt-3">
															<label for="text" class="text-center">Shop
																Branch:</label>
														</div>
														<div class="col-lg-7 col-md-7 col-sm-12">
															<select type="text" name="SHOP_ID" id="SHOP_ID"
																class="form-control" readonly="true">
																<option value="0">--Select Shop Branch--</option>
																<option th:each="a : ${listShop_Br}"
																	th:value="${a.SHOP_ID}" th:text="${a.SHOP_NAME}"
																	th:selected=${a.SHOP_ID}==${sId}></option>

															</select>
														</div>
													</div>
												</div>
												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-4 col-md-4 col-sm-12 mt-3">
															<label for="text" class="text-center">Division:</label>
														</div>
														<div class="col-lg-7 col-md-7 col-sm-12">
															<select id="DCODE" class="form-control" name="DCODE">
																<option value="">-----Select Division-----</option>
																<option th:each="a : ${listDrpDwnDIVISION}"
																	th:value="${a.DCODE}" th:text="${a.DNAME}"
																	 th:selected=${a.DCODE}==${shop_loc.DIV_ID}></option>
															</select>
														</div>
													</div>
												</div>
												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-4 col-md-4 col-sm-12 mt-3">
															<label for="text" class="text-center">District:</label>
														</div>
														<div class="col-lg-7 col-md-7 col-sm-12">
															<select id= "DIST_ID" class="form-control" name="DIST_ID" >
																<option value="">-----Select District-----</option>
																<option th:each="a : ${listDISTRICT_DROPDOWN}"
																	th:value="${a.DIST_ID}" th:text="${a.DIST_NAME}"
																	th:selected="${a.DIST_ID}==${shop_loc.DIST_ID}"></option>
															</select>
														</div>
													</div>
												</div>

												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-4 col-md-4 col-sm-12 mt-3">
															<label for="text" class="text-center">Thana:</label>
														</div>
														<div class="col-lg-7 col-md-7 col-sm-12">
															<select id="THANA_ID" class="form-control" name="THANA_ID">
																<option value="">-----Select Thana-----</option>
																<option th:each="a : ${listTHANA_DROPDOWN}"
																	th:value="${a.THANA_ID}" th:text="${a.THANA_NAME}"
																	th:selected="${a.THANA_ID}==${shop_loc.THANA_ID}"></option>
															</select>
														</div>
													</div>
												</div>


												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-4 col-md-4 col-sm-12 mt-3">
															<label for="text" class="text-center">Contact
																Address 1:</label>
														</div>
														<div class="col-lg-7 col-md-7 col-sm-12">
															<input type="text" class="form-control" name="CON_ADDR1"
																id="CON_ADDR1" th:value="*{CON_ADDR1}">
														</div>
													</div>
												</div>


												<div class="col-lg-4 col-md-4 col-sm-12">
													<div class="row">
														<div class="col-lg-4 col-md-4 col-sm-12 mt-3">
															<label for="text" class="text-center">Contact
																Address 2:</label>
														</div>
														<div class="col-lg-7 col-md-7 col-sm-12">
															<input type="text" class="form-control" name="CON_ADDR2"
																id="CON_ADDR2" th:value="*{CON_ADDR2}">
														</div>
													</div>
												</div>

											</div>


											<div class="row">
												<div class="col-lg-4 col-md-4 col-sm-12"></div>
												<div class="col-lg-4 col-md-4 col-sm-12"></div>
												<div class="col-lg-4 col-md-4 col-sm-12">
													<button type="button" class="btn btn-success m-3"
														data-toggle="modal" data-target="#myModal"
														th:if="${flag} == '0' ">Save</button>
												</div>
											</div>

											<div class="row">

												<div class="col-lg-3 col-md-3 col-sm-12">
													<button type="button" class="btn btn-info m-3" data-toggle="modal"
														data-target="#myModal1" th:if="${flag} == '1' ">Update</button>

												</div>
												<div class="col-lg-3 col-md-3 col-sm-12">
													<button type="button" class="btn btn-danger m-3" data-toggle="modal"
														data-target="#myModal2" th:if="${flag} == '1' ">Delete</button>
												</div>

											</div>





											<div class="row form-inline" style="margin-left: 450px;">



												<!-- Modal HTML -->
												<div id="myModal" class="modal fade ">
													<div class="modal-dialog modal-confirm">
														<div class="modal-content">
															<div class="modal-header flex-column">
																<h4 class="modal-title w-100">Are you sure?</h4>
																<a type="button" class="btn-close" data-dismiss="modal"
																	aria-hidden="true">&times;</a>
															</div>
															<div class="modal-body">
																<p>Do you really want to save these records?</p>
															</div>
															<div class="modal-footer justify-content-center"
																style="border: none;">
																<a type="button" class="btn btn-secondary"
																	data-dismiss="modal">Cancel</a>
																<!--                     <button type="button" class="btn btn-danger">Delete</button> -->
																<input class="btn btn-danger" name="submit" id="submit"
																	type="submit" value="Yes">
															</div>
														</div>
													</div>
												</div>
												<!-- Modal HTML -->
												<div id="myModal1" class="modal fade ">
													<div class="modal-dialog modal-confirm">
														<div class="modal-content">
															<div class="modal-header flex-column">
																<h4 class="modal-title w-100">Are you sure?</h4>
																<a type="button" class="btn-close" data-dismiss="modal"
																	aria-hidden="true">&times;</a>
															</div>
															<div class="modal-body">
																<p>Do you really want to update these records?</p>
															</div>
															<div class="modal-footer justify-content-center"
																style="border: none;">
																<a type="button" class="btn btn-secondary"
																	data-dismiss="modal">Cancel</a>
																<!--                     <button type="button" class="btn btn-danger">Delete</button> -->
																<input class="btn btn-danger" name="edit" id="edit"
																	type="submit"
																	th:formaction="@{'/Shop_loc/'+${sId} +'/'+ ${hId} +'/'+ ${SbId} +'/'+ ${Locid} }"
																	value="Yes">
															</div>
														</div>
													</div>
												</div>

												<!--     Modal HTML Ends -->

												<!-- <button  type="submit" class="btn btn-danger" name="delete" id="delete" style="margin-right:80px" >Delete</button> -->



												<!-- Modal HTML -->
												<div id="myModal2" class="modal fade ">
													<div class="modal-dialog modal-confirm">
														<div class="modal-content">
															<div class="modal-header flex-column">
																<h4 class="modal-title w-100">Are you sure?</h4>
																<a type="button" class="btn-close" data-dismiss="modal"
																	aria-hidden="true">&times;</a>
															</div>
															<div class="modal-body">
																<p>Do you really want to delete these records?</p>
															</div>
															<div class="modal-footer justify-content-center"
																style="border: none;">
																<a type="button" class="btn btn-secondary"
																	data-dismiss="modal">Cancel</a>
																<!--                     <button type="button" class="btn btn-danger">Delete</button> -->
																<input class="btn btn-danger" name="delete" id="delete"
																	type="submit"
																	th:formaction="@{'/Shop_loc/'+${sId} +'/'+ ${hId} +'/'+ ${SbId} +'/'+ ${Locid} }"
																	value="Yes">
															</div>
														</div>
													</div>
												</div>

											</div>
									</div>
									<!--        <div class="row m-3">
                      
                                <div class="col-lg-4 col-md-4 col-sm-12 text-center">
                                    <input type="submit" value="Load" style="border-radius: 0px 15px 0px 15px;" class="btn btn-lg btn-success mr-1 mb-1" />
                                    <input type='button' id='btn' value='Print' style="border-radius: 0px 15px 0px 15px;" class="btn btn-lg btn-primary mr-1 mb-1 "onclick="printContent('divName')">
                                 </div>
                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    
                                </div>
                            </div>-->
									</form>
								</div>
							</div>
						</div>
					</div>

					<div class="row mt-5 pt-3">

						<div class="col-lg-12 col-md-12 col-sm-12">
							<div class="card">
								<div class="card-header" style="background: #2b9139; color: aliceblue">
									<h2 class="text-heading" style="text-align: center;">Shop
										Location List</h2>
								</div>
								<div class="card-body">
									<div class="table-responsive">
										<table id="example" class="display" style="width: 100%; font-size: 14px;">
											<thead>
												<tr>
													<th>Head</th>


													<th>Shop Branch Name</th>

													<th>Thana</th>

													<th>Contact Address 1</th>

													<th>Contact Address 2</th>


												</tr>
											</thead>
											<tbody>

												<tr th:each="s: ${listShop_loc}">
													<td style="width: 10%"><a
															th:href=" '/Shop_loc/' +${ShopId}+'/'+${HeadId}+'/'+ ${s.SHOP_BR_ID}+'/'+ ${s.LOC_ID}  "
															class="row m-0 p-0" th:text="${s.HEAD_NAME}"></a></td>

													<td style="width: 10%"><a
															th:href="'/Shop_loc/' +${ShopId}+'/'+${HeadId}+'/'+ ${s.SHOP_BR_ID}+'/'+ ${s.LOC_ID} "
															class="row m-0 p-0" th:text="${s.SHOP_BR_NAME}"></a></td>

													<td style="width: 10%"><a
															th:href="'/Shop_loc/' +${ShopId}+'/'+${HeadId}+'/'+ ${s.SHOP_BR_ID}+'/'+ ${s.LOC_ID} "
															class="row m-0 p-0" th:text="${s.THANA_NAME}"></a></td>

													<td style="width: 10%"><a
															th:href="'/Shop_loc/' +${ShopId}+'/'+${HeadId}+'/'+ ${s.SHOP_BR_ID}+'/'+ ${s.LOC_ID} "
															class="row m-0 p-0" th:text="${s.CON_ADDR1}"></a></td>

													<td style="width: 10%"><a
															th:href="'/Shop_loc/' +${ShopId}+'/'+${HeadId}+'/'+ ${s.SHOP_BR_ID}+'/'+ ${s.LOC_ID} "
															class="row m-0 p-0" th:text="${s.CON_ADDR2}"></a></td>

												</tr>

											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
		</div>
		</main>
		<!-- page-content" -->

	</div>
	</div>

	<!-- using online scripts -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
		integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">

		</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
		integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">

		</script>
	<script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>



	<script src="../js/main.js"></script>
	<!-- datatable script  -->
	<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
	<!-- Call JS For DataTable -->
	<script>
		$(document).ready(function () {
			$('#example').DataTable();
		});
	</script>
	<script>
		$(document).ready(function () {
			$("#DCODE").change(function () {

				$("#DIST_ID").empty();



				var x = $("#DCODE").val();

				if (x == "") {
					$("#DIST_ID").empty();
					$("<option>").val("").text("Select District").appendTo(DISTDropdown);
				}
				else {

					var urlString = "/api/district/" + x;
					console.log(urlString);

					$.ajax({
						method: "GET",
						url: urlString
					})
						.done(function (responseJson) {

							DISTDropdown = $("#DIST_ID");

							$("<option>").val("").text("Select District").appendTo(DISTDropdown);
							$.each(responseJson, function (index, DIST_ID) {

								$("<option>").val(DIST_ID.dist_ID).text(DIST_ID.dist_NAME).appendTo(DISTDropdown);
							});
						})
						.fail(function () {
							alert("Connection Error");
						})
				}


			})
		})




		$(document).ready(function () {
			$("#DIST_ID").change(function () {

				$("#THANA_ID").empty();



				var x = $("#DIST_ID").val();

				if (x == "") {
					$("#THANA_ID").empty();
					$("<option>").val("").text("Select Thana").appendTo(ThanaDropdown);
				}
				else {

					var urlString = "/api/thana/" + x;
					console.log(urlString);

					$.ajax({
						method: "GET",
						url: urlString
					})
						.done(function (responseJson) {

							ThanaDropdown = $("#THANA_ID");

							$("<option>").val("").text("Select Thana").appendTo(ThanaDropdown);
							$.each(responseJson, function (index, THANA_ID) {

								$("<option>").val(THANA_ID.thana_ID).text(THANA_ID.thana_NAME).appendTo(ThanaDropdown);
							});
						})
						.fail(function () {
							alert("Connection Error");
						})
				}


			})
		})
	</script>
</body>

</html>